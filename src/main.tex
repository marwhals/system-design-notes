%! Author = Marjan
%! Date = 02/02/2025
% Preamble
\documentclass[a4paper, 11pt]{book}

% Packages
\usepackage{amsmath}    % For math symbols and equations
\usepackage{graphicx}   % For including graphics
\usepackage{geometry}   % For adjusting page layout
\usepackage{fancyhdr}   % For custom headers/footers
\usepackage{hyperref}   % For hyperlinks
\usepackage{listings}   % For code listing
\usepackage{lipsum}     % For placeholder text (to test layout)
\usepackage{helvet} % Helvetica as a sans-serif font alternative
\renewcommand{\rmdefault}{phv} % Set the default font family to Helvetica

% Set page margins (A4 paper)
\geometry{top=1in, bottom=1in, left=1in, right=1in}

% Set up the header
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{System Design Notes}
\fancyhead[C]{Your Name}
\fancyhead[R]{\thepage}

% Document
\begin{document}

% Title Page
    \begin{titlepage}
        \centering
        \vspace*{2in}
        \Huge \textbf{System Design Notes}
        \vfill
        \Large Your Name
        \vfill
        \Large Date: \today
    \end{titlepage}

    \newpage

    \tableofcontents
    \newpage

    \section{Introduction}

    \subsection{OSI Model}
    Very useful when operating on different levels of abstraction in a system
    \paragraph{Level 1} - Physical
    \paragraph{Level 2} - Data link
    \paragraph{Level 3} - Network
    \paragraph{Level 4} - Transport
    \paragraph{Level 5} - Session
    \paragraph{Level 6} - Presentation
    \paragraph{Level 7} - Application

    \paragraph{Motivations: Why should I care}
    Drivers - Performance, Scalability, Fault Tolerance.
    How to measure.....latency, throughput, cost
    Consider SLA,SLO and SLI

    \subsection{Gathering System Requirements}
    \lipsum[1]

    \section{High-Level System Design}
    \lipsum[2]

    \subsection{N-Tier}

    \subsection{Microservices}

    \subsection{Event-Driven Architecture}

    \subsection{Big Data}

    \subsubsection{Batch}

    \subsubsection{Streaming}

    \section{Components}
    \lipsum[3]

    \subsection{Load balancing}

    \subsection{Message Brokers}

    \subsubsection{Kafka}

    \subsection{API Design}

    \subsubsection{REST}

    \subsubsection{GraphQL}

    \subsubsection{RPC}

    \subsection{Data Storage}

    \subsubsection{CDN}

    \subsection{Design Patterns}
    \lipsum[4]
    \subsubsection{Scalability}
    \paragraph{Load Balancing}
    \paragraph{Pipes and filters}
    \paragraph{Scatter and Gather}
    \subsubsection{Microservices specific}
    \paragraph{Execution orchestrator}
    \paragraph{Choreography}
    
    \subsubsection{Extensibility}

    \paragraph{Sidecar}

    \paragraph{Adapters}

    \paragraph{Frontends for Backends}

    \subsubsection{Availablility, error handling and recovery}

    \paragraph{Rate Limiting}

    \paragraph{Retry Pattern}

    \paragraph{Circuit breaker}

    \paragraph{Dead Letter Queue}

    \subsection{Data intensive applications patterns}
    \subsubsection{Map Reduce}
    \subsubsection{Saga}
    \subsubsection{Transactional Outbox}
    \subsubsection{Materialised View Pattern}
    \subsubsection{CQRS}
    \subsubsection{Event Sourcing}

    \section{Detailed Design}
    \lipsum[5]

    \subsection{Caching}
    Redis
    \subsection{Queues}
    Kafka
    \subsection{Protocols}
    \subsubsection{TCP}
    \subsubsection{UDP}
    \subsection{Threads and Concurrency}
    \paragraph{Actor model and Akka}
    Java low level and higher level
    \paragraph{Functional}
    Scala.....
    \paragraph{Application level}
    Scaling via instances
    \subsection{Databases}
    \paragraph{NoSQL}
    MongoDB.....graph databases
    \paragraph{SQL}
    \subsection{Networks}

    \section{Performance and Scalability}
    \lipsum[6]
    \subsection{Testing}
    \paragraph{Gatling}
    \paragraph{Code performance}
    Hmmmm maybe JVM specific here

    \section{Distributed Systems}
    \subsection{Clusters}
    Kubernetes
    \subsection{Storage}
    \subsection{Deployments}
    Docker, Jenkins

    \lipsum[7]

    \section{Basic security}
    \lipsum[7]

    \section{Conclusion}
    \lipsum[7]

    \newpage

% Example of including a code snippet


    \section{Code Example}
    \begin{lstlisting}[language=Java, caption=Java Code for a Simple Cache]
public class SimpleCache {
    private Map<String, String> cache = new HashMap<>();

    public String get(String key) {
        return cache.get(key);
    }

    public void put(String key, String value) {
        cache.put(key, value);
    }
}
    \end{lstlisting}

\end{document}
